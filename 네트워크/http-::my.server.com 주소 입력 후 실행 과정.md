# http://my.server.com 주소 입력 후 실행 과정



1. **사용자** 는 웹브라우저에 http://my.server.com을 입력 한 후 엔터를 누른다
2. 웹 브라우저는 웹 서버 my.server.com으로 사용자 요청을 보내고 싶으나,  my.server.com은 사람이 인식하기 편하게 정한 도메인 이름이어서 요청을 보낼 수 없다. **DNS**(Domain Name system)에게 my.server.com에 대한 IP 주소를 요청한다
   - DNS 서버에 요청하기전 hosts 파일에 IP가 있는 지 보고 없으면 DNS서버에 요청
   - Hosts 파일 : 호스트명과 IP 주소에 대해 정의하는 곳
   - DNS 동작과정
3. 도메인 이름 서버에게 my.server.com에 대한 IP 주소 220.17.23.15를 받은 웹 브라우저는 이 주소를 사용하여 웹 서버에 접속한 후, 문서 루트에 있는 정보를 요청한다(HTTP)
   - 3 way handshake
   - HTTPS면 어떻게 작동하는가
4. my.server.com으로 요청을 하기 위하여 웹 브라우저는 TCP 프로토콜에게 요청 정보를 넘겨준다. 이 정보는 적절하게 캡슐화 되어 my.server.com의 웹 서버 프로그램에 전달된다(TCP)
   - request 메세지를 작성하고 그것을 전달
   - TCP 동작 과정
5. TCP 프로토콜에서 만들어진 정보는 여러 홉의 네트워크를 거쳐 my.server.com에 있는 220.17.23.0.네트워크로 라우팅 될 수 있도록 캡슐화 된다.(IP)
   - 주소 체계 이해하기
6. 네트워크 간 라우팅을 위한 정보를 포함하여 적절하게 패킷을 만들었지만, 이 패킷은 바로 네트워크 간을 이동할 수 없어 네트워크 내에서 이동할 수 있도록 준비해야한다. 사용자가 있는 컴퓨터의 IPv4주소는 198.168.11.5로 my.server.com으로 바로 전달 할 수 없어 컴퓨터의 게이트워이인 **유무선 공유기**(192.168.11.1)로 전달하려고 한다. 그러나 IP주소는 네트워크 안에서 전송하는 목적으로 사용할 수 밖에 없으며, 이러한 목적으로 사용되는 MAC 주소를 알아야 한다.게이트웨이 IP 주소인 192.168.11에 대응하는 MAC 주소를 192.168.11.0 네트워크 내에 브로드 캐스트하여 알아낸 다음, 패킷을 유무선 공유기로 보낸다(ARP, Ethernet, 사설 네트워크 NAT)
   - NAT 동작 방법
7. 유무선 공유기에서 사용자의 컴퓨터에서 패킷을 받은 후, 자신에게 전소오디 패킷이 아니므로 그 패킷이 어디로 전송되는 것인지 살펴본다. IP 헤더를 보면, my.server.com으로 전소오디는 패킷을 알 수 있으며, 유무선 공유기가 속한 네트워크 192.168.11.0과 14.32.172.0 어느 쪽에도 속한 것이 아니므로 자신이 속한 라우터로 전달한다(라우팅 프로토콜)
8. 패킷을 받은 라우터는 자신이 속한 네트워크 220.17.23.0으로 전송되는 패킷임을 알 수 있어. 웹 서버 IP주소 220.17.23.15로 패킷을 전송하려고 한다. 네트워크 내의 패킷 이동은 my.server.com의 물리주소인 MAC 주소를 알아야 하므로 네트워크 내에 브로드 캐스트 하여 my.server.com의 IP 주소 220.17.23.15에 해당하는 MAC 주소를 획득하여 전송한다 (ARP)
   - ARP 동작 방법
9. 패킷을 수신한 my.server.com은 IP 주소를 보고 자신에게 온 패킷임을 알 수 있어 IP 주소 등의 헤더 정보를 제거한 후 남은 데이터를 상위프로토콜로 올려보낸다 (IP)
10. 웹 서버 my.server.com 내의 어떤 애플리케이션으로 전달해야 하는지 파악한 다음. 필요없는 정보를 제거하고 해당 애플리케이션인 웹 서버 애플리케이션으로 전달한다(TCP)
11. 웹 서버 애플리케이션에서는 문서 루트에 있는 정보를 요청하는 메시지임을 파악하고 이에 대한 정보를 송신자인 사용자의 컴퓨터로 보낸다
12. 웹서버로 부터 문서 루트에 있는 정보를 받은 웹 브라우저는 이를 적절하게 표한하여 사용자가 볼 수 있도록 시각적으로 보여준다. 문서 내 원하는 하이퍼링크를 선택하면 동영상도 웹브라우저에서 보는것이 가능하다.(HTTP,HTML)

