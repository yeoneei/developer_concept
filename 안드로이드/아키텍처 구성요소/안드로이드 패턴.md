# 안드로이드 패턴

MVC, MCP, MVVM 비교하기



### MVC

- Model, View, Controller 구조를 가지는 디자인 패턴
- **Model** (무엇) : 데이터와 상태, 비즈니스 로직을 구현하며 *View* 와 *Controller* 에 종속되지 않고 여러 곳에서 재사용
  - 데이터 클래스에 해당
  - **데이터+상태+비즈니스로직**  == 앱의 두뇌
  - 알고리즘, DB
- **View**  : 화면을 구현하는 컴포넌트
  - *Model* 에 대한 이해없이 오로지 사용자의 인터렉션을 받아 반응
  - MVC 구조에서 뷰는 하위 모델에 대한 지식이나 상태에 대한 이해가 없고, 사용자가 버튼을 클릭하거나 값을 입력하는 등의 행동을 할 때 무엇을 해야 하는지 모른다는 점에서 상당히 “멍청하다”.
    - 뷰가 덜 알수록 모델에 종속되지 않으므로 보다 변화에 유연할 수 있기 때문
  - *View* 와 *Model* 은 최대한 종속되지 않고 독립적이게 구현
  - Xml에 해당
- **Controller** (어떻게) : *View* 와 *Model* 을 연결하는 역할
  - *View* 에서 사용자와의 인터렉션이 발생하면 컨트롤러가 이것을 인지하고 모델을 갱신하는 역할
  - 애플리케이션에서 발생하는 일을 담당하는 마스터 컨트롤러 역할
  -  모델에서 데이터가 변화되는 것에 따라 컨트롤러는 뷰의 상태를 적절하게 업데이트하도록 결정
  - Activity, Fragment에 해당
- **한계**
  - **복잡한 대규모 프로그램을 개발을 하게 되면서 문제점이 확인**
    - 결과 : 뷰와 모델이 서로 의존성을 띄게 된다.
      - 다수의 View와 Model이 Controller를 통해 복잡하게 연결될 수 있기 때문에 Controller가 뚱뚱해지게 되는 **Massive ViewController(대규모 MVC 어플리케이션)**가 되어버림.
      - Controller에 연결되어 화면을 구성하는 단위요소이므로 다수의 View들을 가질 수 있다. 그리고 Model은 Controller를 통해서 View와 연결되어지지만, 이렇게 Controller를 통해서 하나의 View에 연결될 수 있는 Model도 여러개가 될 수 있다
      - 화면에 복잡한 화면과 데이터의 구성 필요한 구성이라면, Controller에 다수의 Model과 View가 복잡하게 연결되어 있는 상황이 생길 수 있다.
      - Controller는 View와 라이프 사이클과 강하게 연결되어있어서 분리할 수도 없고, 코드 분석/수정과 테스트가 모두 힘들어짐.
      - 복잡하게 엮어있는 모델과 뷰는 여러 Side-Effect를 불러와서 프로그램 운영을 힘듬.



### MVP

- MVC를 보완하고자 나온 모델
- MVP 에서는 액티비티를 View의 일부로 간주하여 액티비티 안에 대부분의 처리가 구현되는 것은 극복
- 액티비티가 View 인터페이스를 구현되어 있기에 가상 뷰를 만들어 Presenter 와 연결시키면 유닛 테스트가 가능